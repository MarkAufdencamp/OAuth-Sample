<script>
	dojo.require("dijit.Dialog");
	var signinCode = function(){		
		dijit.byId('signinCode').show();
		}
	var signinToken = function(){		
		dijit.byId('signinToken').show();
		}
	var accessCode = function(){		
		dijit.byId('accessCode').show();
		}
	var accessToken = function(){		
		dijit.byId('accessToken').show();
		}
</script>

<div class="Service">
	<div class="ServiceHeader">
		<div class="ServiceHeaderGroup">
			<div class="ServiceIcon">
				<%= link_to image_tag("google-logo.jpg"), :controller => 'google'  %>
			</div>
			<div class="ServiceTitle">
				<h1>Google</h1>
			</div>
			<div class="ServiceLinks">
				<p><a href="http://code.google.com/apis" target="_blank" ><h2>Documentation</h2></a></p>
				<p><a href="https://code.google.com/apis/console/" target="_blank" ><h2>API Keys</h2></a></p>
			</div>
		</div>
	</div>
	
	<div class="ServiceBody">
		<div class="ServiceBodyGroup">
		<% if session[:googleSigninToken] %>
			<div class="ServiceFeature">
				<div class="ServicePanel MenuItem Green">
					<div class="ServicePanel MenuItemIcon">
						<%= link_to image_tag("authorized-256Px-146.png", :class => "ServicePanel MenuItemIcon"), :controller=> 'google', :action=> 'index' %>
					</div>
					<div class="ServicePanel MenuItemTitle">
						<%= link_to "Signin with Google Account", :controller => 'google', :action=> 'index' %>	
					</div>
				</div>
			</div>
		<% end %>
		<% if session[:googleSigninToken] %>		
			<div class="ServiceFeature">
				<div class="ServicePanel MenuItem Green">
					<div class="UserSigninInfo">
						<ul class="UserSigninInfo">
							<li><h2>Google Id</h2><p class="Id"> <%= session[:googleId] %></p></li>
							<li><h2>Google User Name</h2><p class="Name"> <%= session[:googleUserName] %></p></li>
							<li><h2>Google EMail</h2><p class="EMail"> <%= session[:googleEMail] %></p></li>
						</ul>
					</div>
				</div>
			</div>
		<% end %>
		<% if session[:googleAccessToken] %>
			<div class="ServiceFeature">
				<div class="ServicePanel MenuItem Green">
					<div class="ServicePanel MenuItemIcon">
						<%= link_to image_tag("authorized-256Px-146.png", :class => "ServicePanel MenuItemIcon"), :controller=> 'google', :action=> 'index' %>
					</div>
					<div class="ServicePanel MenuItemTitle">
						<%= link_to "Google Account Access Authorized", :controller => 'google', :action=> 'index' %>	
					</div>
				</div>						
			</div>
		<% end %>
		<% if !session[:googleAccessToken] %>
			<div class="ServiceFeature">							
				<div class="ServicePanel MenuItem Red">	
					<div class="ServicePanel MenuItemIcon">
						<%= link_to image_tag("unauthorized-256Px-145.png", :class => "ServicePanel MenuItemIcon"), :controller=> 'google', :action=> 'index' %>
					</div>
					<div class="ServicePanel MenuItemTitle">
						<%= link_to "Google Account Access Denied", :controller => 'google', :action=> 'index' %>	
					</div>
				</div>			
			</div>
		<% end %>
		<% if session[:googleSigninToken] %>
		<div class="ServiceFeature">							
			<div class="ServicePanel MenuItem Green">	
				<ul class="SigninTokenInfo">
						<a href="javascript:signinCode()"><li><h2>Signin Code</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
						<a href="javascript:signinToken()"><li><h2>Signin Token</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
				</ul>
			</div>
		</div>
		<% end %>
		<% if session[:googleAccessToken] %>
		<div class="ServiceFeature">							
			<div class="ServicePanel MenuItem Green">	
				<ul class="AccessTokenInfo">
					<a href="javascript:accessCode()"><li><h2>Access Code</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
					<a href="javascript:accessToken()"><li><h2>Access Token</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
				</ul>
			</div>
		</div>
		<% end %>
		</div>
	</div>

	
	<div id="signinCode" dojoType="dijit.Dialog">
		<h2>Signin Code</h2>
		<p style="overflow: auto;"><%= session[:googleSigninCode] %></p>
	</div>
	
	<div id="signinToken" dojoType="dijit.Dialog">
		<h2>Signin Token</h2>
		<p style="overflow: auto;"><%= session[:googleSigninToken] %></p>
		<h2>Id Token</h2>
		<p style="overflow: auto;"><%= session[:googleIdToken] %></p>
	</div>
	<div id="accessCode" dojoType="dijit.Dialog">
		<h2>Access Code</h2>
		<p style="overflow: auto;"><%= session[:googleAccessCode] %></p>
	</div>
	
	<div id="accessToken" dojoType="dijit.Dialog">
		<h2>Access Token</h2>
		<p style="overflow: auto;"><%= session[:googleAccessToken] %></p>
		<h2>Refresh Token</h2>
		<p style="overflow: auto;"><%= session[:googleRefreshToken] %></p>
		<h2>Access Token Birth</h2><p class="Id"> <%= session[:googleTokenBirth] %></p>
		<h2>Access Token Life</h2><p class="Id"> <%= session[:googleTokenExpiresIn] %></p>
	</div>

</div>