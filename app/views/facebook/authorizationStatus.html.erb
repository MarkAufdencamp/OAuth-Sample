<script>
	dojo.require("dijit.Dialog");
	var signinCode = function(){		
		dijit.byId('signinCode').show();
		}
	var signinToken = function(){		
		dijit.byId('signinToken').show();
		}
	var accessCode = function(){		
		dijit.byId('accessCode').show();
		}
	var accessToken = function(){		
		dijit.byId('accessToken').show();
		}
</script>


<div class="Service">
	<div class="ServiceHeader">
		<div class="ServiceHeaderGroup">
			<div class="ServiceIcon">
				<%= link_to image_tag("facebook-logo.jpg"), :controller => 'facebook'  %>
			</div>
			<div class="ServiceTitle">
				<h1>Facebook</h1>
			</div>
			<div class="ServiceLinks">
				<p><a href="http://developers.facebook.com/docs" target="_blank" ><h2>Documentation</h2></a></p>
				<p><a href="https://developers.facebook.com/apps" target="_blank" ><h2>API Keys</h2></a></p>
			</div>
		</div>
	</div>
	
	<div class="ServiceBody">
		<div class="ServiceBodyGroup">
		<% if session[:facebookSigninToken] %>
			<div class="ServiceFeature">
				<div class="ServicePanel MenuItem Green">
					<div class="ServicePanel MenuItemIcon">
						<%= link_to image_tag("authorized-256Px-146.png", :class => "ServicePanel MenuItemIcon"), :controller=> 'facebook', :action=> 'index' %>
					</div>
					<div class="ServicePanel MenuItemTitle">
						<%= link_to "Signin with Facebook Account", :controller => 'facebook', :action=> 'index' %>	
					</div>
				</div>
			</div>
		<% end %>
		<% if session[:facebookSigninToken] %>		
		<div class="ServiceFeature">
			<div class="ServicePanel MenuItem Green">
			<div class="UserSigninInfo">
				<ul class="UserSigninInfo">
						<li><h2>Facebook Id</h2><p class="Id"> <%= session[:facebookId] %></p></li>
						<li><h2>Facebook User Name</h2><p class="Name"> <%= session[:facebookUserName] %></p></li>
						<li><h2>Facebook EMail</h2><p class="EMail"> <%= session[:facebookEMail] %></p></li>
				</ul>
			</div>
			</div>
		</div>
		<% end %>
		<% if session[:facebookAccessToken] %>
		<div class="ServiceFeature">
			<div class="ServicePanel MenuItem Green">
				<div class="ServicePanel MenuItemIcon">
					<%= link_to image_tag("authorized-256Px-146.png", :class => "ServicePanel MenuItemIcon"), :controller=> 'facebook', :action=> 'index' %>
				</div>
				<div class="ServicePanel MenuItemTitle">
					<%= link_to "Facebook Account Access Authorized", :controller => 'facebook', :action=> 'index' %>	
				</div>
			</div>
		</div>
		<% end %>
		<% if !session[:facebookAccessToken] %>		
		<div class="ServiceFeature">							
			<div class="ServicePanel MenuItem Red">	
				<div class="ServicePanel MenuItemIcon">
					<%= link_to image_tag("unauthorized-256Px-145.png", :class => "ServicePanel MenuItemIcon"), :controller=> 'facebook', :action=> 'index' %>
				</div>
				<div class="ServicePanel MenuItemTitle">
					<%= link_to "Facebook Account Access NOT Authorized", :controller => 'facebook', :action=> 'index' %>	
				</div>
			</div>				
		</div>
		<% end %>			
		<% if session[:facebookSigninToken] %>
		<div class="ServiceFeature">							
			<div class="ServicePanel MenuItem Green">	
				<ul class="SigninTokenInfo">
						<a href="javascript:signinCode()"><li><h2>Signin Code</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
						<a href="javascript:signinToken()"><li><h2>Signin Token</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
				</ul>
			</div>
		</div>
		<% end %>
		<% if session[:facebookAccessToken] %>
		<div class="ServiceFeature">							
			<div class="ServicePanel MenuItem Green">	
				<ul class="AccessTokenInfo">
					<a href="javascript:accessCode()"><li><h2>Access Code</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
					<a href="javascript:accessToken()"><li><h2>Access Token</h2><%= image_tag("keys-256Px-144.png")  %></li></a>
				</ul>
			</div>
		</div>
		<% end %>
	</div>
	</div>

	<div id="signinCode" dojoType="dijit.Dialog">
		<h2>Signin Code</h2>
		<p style="overflow: auto;"><%= session[:facebookSigninCode] %></p>
	</div>
	
	<div id="signinToken" dojoType="dijit.Dialog">
		<h2>Signin Token</h2>
		<p style="overflow: auto;"><%= session[:facebookSigninToken] %></p>
	</div>
	<div id="accessCode" dojoType="dijit.Dialog">
		<h2>Access Code</h2>
		<p style="overflow: auto;"><%= session[:facebookAccessCode] %></p>
	</div>
	
	<div id="accessToken" dojoType="dijit.Dialog">
		<h2>Access Token</h2>
		<p style="overflow: auto;"><%= session[:facebookAccessToken] %></p>
		<h2>Access Token Birth</h2><p class="Id"> <%= session[:facebookTokenBirth] %></p>
		<h2>Access Token Life (plugged)</h2><p class="Id"> <%= session[:facebookTokenExpiresIn] %></p>
	</div>

</div>
